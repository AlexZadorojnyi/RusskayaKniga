var app = angular.module("myApp", []);

app.directive('cycleSlides', function() {
	return function(scope, element, attrs) {
		if(scope.$last){
			setTimeout(cycleSlides(), 5000);
			
			var url = window.location.href;
			
			if(url.match(/\/rus\//g)){
				var lang = "ru";
			}
			
			if(url.match(/\/eng\//g)){
				var lang = "en";
			}
			
			for(var i = 0; i < scope.books.length; i++){
				if($.inArray("Top Sellers", scope.books[i].category) != -1){
					scope.displayBookInfo("topSellers", scope.books[i], lang);
					break;
				}
			}
			
			for(var i = 0; i < scope.books.length; i++){
				if($.inArray("New Arrivals", scope.books[i].category) != -1){
					scope.displayBookInfo("newArrivals", scope.books[i], lang);
					break;
				}
			}
		}
	};
});

// Filters promos based on start and end dates
app.filter('promoFilter', function(){
	return function(input){
		var output = [];
		var currentDate = new Date();
		
		for(var i = 0; i < input.length; i++){
			// Begins displaying on start date, removed on end date
			if(input[i].endDate.getTime() > currentDate.getTime() && currentDate.getTime() > input[i].startDate.getTime()){
				output.push(input[i]);
			}
		}
		return output;
	}
});

app.controller('myCtrl', ['$scope', function($scope) {
	angular.element(document).ready(function () {
		// Highlights the first two books in each slider
		$(".book.topSellers:first").addClass("highlight");
		$(".book.newArrivals:first").addClass("highlight");
		
        // Scroll variables
		var blockScroll = false;
		var scrollSpeed = 400;
		
		// Width of one book element without padding
		var bookInnerWidth = $(".book").outerWidth();
		
		// Sets margin width based on container parameters
		setMargins();
		window.onresize = setMargins;
		
		// Scroll books >>LEFT>>
		$(".scrollLeft").click(function(){
			var thisClass = this.classList[1];
			if(!reachedStart(thisClass)){
				if(!blockScroll){
					blockScroll = true;
					// Animate for first book in the slider, buttons toggle when animation completes
					$("." + thisClass + ".book:first").animate({right: "-=" + $("." + thisClass + ".book").outerWidth(true) + "px"}, scrollSpeed, function(){
						blockScroll = false;
						if(reachedStart(thisClass)){
							toggleButton(thisClass, "left", "off");
							console.log(thisClass + " reached start of list");
						}
						if(!reachedEnd(thisClass)) toggleButton(thisClass, "right", "on");
						//console.log(Math.round($("." + thisClass + ".book:first").position().left - 1));
					});
					// Animate for the rest of the books in the slider
					$("." + thisClass + ".book:not(:first)").animate({right: "-=" + $("." + thisClass + ".book").outerWidth(true) + "px"}, scrollSpeed);
				}
			}
		});
		
		// Scroll books <<RIGHT<<
		$(".scrollRight").click(function(){
			var thisClass = this.classList[1];
			if(!reachedEnd(thisClass)){
				if(!blockScroll){
					blockScroll = true;
					// Animate for first book in the slider, buttons toggle when animation completes
					$("." + thisClass + ".book:first").animate({right: "+=" + $("." + thisClass + ".book").outerWidth(true) + "px"}, scrollSpeed, function(){
						blockScroll = false;
						if(reachedEnd(thisClass)){
							toggleButton(thisClass, "right", "off");
							console.log(thisClass + " reached end of list");
						}
						if(!reachedStart(thisClass)) toggleButton(thisClass, "left", "on");
						//console.log(Math.round($("." + thisClass + ".book:first").position().left - 1));
					});
					// Animate for the rest of the books in the slider
					$("." + thisClass + ".book:not(:first)").animate({right: "+=" + $("." + thisClass + ".book").outerWidth(true) + "px"}, scrollSpeed);
				}
			}
		});
		
		// Sets margin width based on container parameters
		function setMargins() {
			$(".bookContainer").each(function(){
				//console.log($("." + this.classList[1] + ".book:first").position().left - 1);
				
				var bookIndex = Math.round(($("." + this.classList[1] + ".book:first").position().left - 1) / $(this).children(".book").outerWidth(true));
				
				// Number of book elements
				var bookNum = $(this).children(".book").length;
				// Width of the book container element
				var containerWidth = $(this).innerWidth();
				
				var i = 0;
				var r = 0;
				
				do {
					i++;
					r = containerWidth - (bookInnerWidth * i);
				} while (r > bookInnerWidth && i < bookNum);
				
				$(this).children(".book").css("margin-left",  (r / i / 2) + "px");
				$(this).children(".book").css("margin-right", (r / i / 2) + "px");
				
				// Width of one book element with padding
				var bookOuterWidth = $(this).children(".book").outerWidth(true);
				// Total width of all book elements with padding
				var totalWidth = bookOuterWidth * bookNum;
				
				//console.log(this.classList[1] + " container\nContainer width: " + containerWidth + "px\nBook width: " + bookInnerWidth + "px\nFits: " + i + "/" + bookNum + " books at once\nRemainder: " + r + "px\nMargins: " + r + "/" + i + "=" + (r / i / 2) + "px");
				
				
				//if(bookOuterWidth * bookNum - containerWidth - Math.abs(bookIndex * bookOuterWidth) < 0) {
					$(this).children(".book").css("right", Math.abs(bookIndex * bookOuterWidth));
				//}
				
				if(reachedEnd(this.classList[1])) toggleButton(this.classList[1], "right", "off");
			})
		}
		
		// Replaces long if statement
		//Math.round(($("." + thisClass + ".book").outerWidth(true) * $("." + thisClass + ".book").length - $("." + thisClass + ".bookContainer").innerWidth()) + $("." + thisClass + ".book:first").position().left - 1 - $("." + thisClass + ".book").outerWidth(true)) >= 0
		function reachedEnd(thisClass) {
			var bookOuterWidth = $("." + thisClass + ".book").outerWidth(true);
			var bookNum = $("." + thisClass + ".book").length;
			var containerWidth = $("." + thisClass + ".bookContainer").innerWidth();
			var bookPos = $("." + thisClass + ".book:first").position().left;
			
			if(Math.round(bookOuterWidth * bookNum - containerWidth + bookPos - bookOuterWidth) >= 0){
				return false;
			} else {
				return true;
			}
		}
		
		// Replaces long if statement
		//Math.round($("." + thisClass + ".book:first").position().left - 1 + $("." + thisClass + ".book").outerWidth(true)) <= 0
		function reachedStart(thisClass) {
			var bookOuterWidth = $("." + thisClass + ".book").outerWidth(true);
			var bookPos = $("." + thisClass + ".book:first").position().left - 1;
			
			if(Math.round(bookPos + bookOuterWidth) <= 0){
				return false;
			} else {
				return true;
			}
		}
		
		// Toggles specified slider button on/off
		function toggleButton(thisClass, button, opacity){
			if(button == "right"){
				if(opacity == "on"){
					$(".scrollRight." + thisClass).animate({opacity: 1}, "fast");
					$(".scrollRight." + thisClass).css("cursor", "pointer");
					//console.log(thisClass + " " + button + " " + toggle);
				} else if(opacity == "off"){
					$(".scrollRight." + thisClass).animate({opacity: 0}, "fast");
					$(".scrollRight." + thisClass).css("cursor", "default");
					//console.log(thisClass + " " + button + " " + toggle);
				} else if(opacity == "dim"){
					$(".scrollRight." + thisClass).animate({opacity: 0.5}, "fast");
					//console.log(thisClass + " " + button + " " + toggle);
				}
			} else if (button == "left") {
				if(opacity == "on"){
					$(".scrollLeft." + thisClass).animate({opacity: 1}, "fast");
					$(".scrollLeft." + thisClass).css("cursor", "pointer");
					//console.log(thisClass + " " + button + " " + toggle);
				} else if(opacity == "off"){
					$(".scrollLeft." + thisClass).animate({opacity: 0}, "fast");
					$(".scrollLeft." + thisClass).css("cursor", "default");
					//console.log(thisClass + " " + button + " " + toggle);
				} else if(opacity == "dim"){
					$(".scrollLeft." + thisClass).animate({opacity: 0.5}, "fast");
					//console.log(thisClass + " " + button + " " + toggle);
				}
			}
		}
		
		$(".book").click(function(){
			var $this = $(this);
			$this.addClass("highlight").siblings().removeClass("highlight");
		});
	});
	
	$scope.displayBookInfo = function(thisClass, book, lang){
		var newHTML = "";
		// Used to track if the preceding attribute is there to be separated from
		var separatorFlag = false;
		
		if(lang == "en"){
			var pages = " pg.";
			var hardCover = "Hardcover";
			var softCover = "Paperback";
		} else {
			var pages = " стр.";
			var hardCover = "Твердая обложка";
			var softCover = "Мягкий обложка";
		}
		
		// Title
		if(angular.isDefined(book.title) && book.title.length > 0){
			newHTML = newHTML + "<span class='title'><strong>" + book.title + "</strong></span><br>";
		}
		
		// Author
		if(angular.isDefined(book.author) && book.author.length > 0){
			newHTML = newHTML + "<span class='author'><strong>" + book.author + "</strong></span>";
			separatorFlag = angular.isDefined(book.author) && book.author.length > 0;
		}
		
		// Release year
		if(angular.isDefined(book.year)) {
			if(separatorFlag) newHTML = newHTML + " | ";
			newHTML = newHTML + "<span class='year'>" + book.year + "</span>";
			separatorFlag = separatorFlag || angular.isDefined(book.year);
		}
		
		// Publisher
		if(angular.isDefined(book.publisher) && book.publisher.length > 0){
			if(separatorFlag) newHTML = newHTML + " | ";
			newHTML = newHTML + "<span class='cover'>" + book.publisher + "</span>";
			separatorFlag = separatorFlag || (angular.isDefined(book.publisher) && book.publisher.length > 0);
		}
		
		// Cover type
		if(angular.isDefined(book.hardCover)){
			if(separatorFlag) newHTML = newHTML + " | ";
			if(book.hardCover){
				newHTML = newHTML + "<span class='cover'>" + hardCover + "</span>";
			} else {
				newHTML = newHTML + "<span class='cover'>" + softCover + "</span>";
			}
			separatorFlag = separatorFlag || angular.isDefined(book.year);
		}
		
		//Pages
		if(angular.isDefined(book.pages) && book.pages > 0) {
			if(separatorFlag) newHTML = newHTML + " | ";
			newHTML = newHTML + "<span class='pages'>" + book.pages + pages + "</span>";
		}
		
		newHTML = newHTML + "<br>";
		
		// Price
		if(angular.isDefined(book.price)){
			if(angular.isDefined(book.sale) && book.sale > 0){
				newHTML = newHTML + "<b class='salePrice'>$" + parseFloat(Math.round((book.price - book.price * book.sale) * 100)/100).toFixed(2) + " </b><span class='regPrice'>$" + parseFloat(book.price).toFixed(2) + "</span>";
			} else {
				newHTML = newHTML + "<b class='price'>$" + parseFloat(book.price).toFixed(2) + "</b>";
			}
		}
		
		// Description
		if(angular.isDefined(book.desc)){
			newHTML = newHTML + "<p class='desc'>" + book.desc  + "</p>";
		}
		
		// Sets image
		$(".bookInfo." + thisClass + " > .coverImg").html("<img src='" + book.address + "'>");
		// Sets text
		$(".bookInfo." + thisClass + " > .text").html(newHTML);
	};
	$scope.random = function(){
		return 0.5 - Math.random();
	};
	$scope.promos = [
  	{ 
		address: "../../images/promo/eng/promoEng5.jpg", 
		startDate: new Date('2018-07-11'),
		endDate: new Date('2018-09-12'),
		lang: "en",
		importance: 3
  	},
	{ 
		address: "../../images/promo/eng/promoEng6.jpg", 
		startDate: new Date('2018-06-20'),
		endDate: new Date('2018-08-01'),
		lang: "en",
		importance: 2
  	},
	{ 
		address: "../../images/promo/eng/promoEng7.jpg", 
		startDate: new Date('2018-06-21'),
		endDate: new Date('2018-08-01'),
		lang: "en",
		importance: 1
  	},
	{ 
		address: "../../images/promo/rus/promoRus5.jpg", 
		startDate: new Date('2018-06-19'),
		endDate: new Date('2018-08-01'),
		lang: "ru",
		importance: 3
  	},
	{ 
		address: "../../images/promo/rus/promoRus6.jpg", 
		startDate: new Date('2018-06-20'),
		endDate: new Date('2018-08-01'),
		lang: "ru",
		importance: 2
  	},
	{ 
		address: "../../images/promo/rus/promoRus7.jpg", 
		startDate: new Date('2018-06-21'),
		endDate: new Date('2018-08-01'),
		lang: "ru",
		importance: 1
  	}];
	$scope.books = [
	{
		title: "История Российского государства. Царь Петр Алексеевич. Азиатская европеизация",
		author: "Акунин Борис",
		price: 60.54,
		year: 2017,
		publisher: "",
		pages: 384,
		hardCover: true,
		desc: 'Продолжение самого масштабного и амбициозного проекта десятилетия от Бориса Акунина! История Отечества в фактах и человеческих судьбах! Уникальный формат: мегатекст состоит из параллельных текстов: история России в восьми томах + исторические авантюрные повести. Суммарный тираж изданных за четыре года книг проекта - более 1 500 000 экземпляров! Тома серии богаты иллюстрациями: цветные в исторических томах, стильная графика - в художественных! Велик ли был Петр Великий? Есть лишь четыре крупных исторических деятеля, отношение к которым окрашено сильными эмоциями: Иван Грозный, Ленин, Сталин - и Петр I. Доблести Петра восхвалялись и при монархии, и в СССР, и в постсоветской России. "Государственникам" этот правитель импонирует как создатель мощной военной державы, "либералам" - как западник, повернувший страну лицом к Европе. Тридцатилетие, в течение которого царь Петр Алексеевич проводил свои преобразования, повлияло на ход всей мировой истории. Обстоятельства его личной жизни, умственное устройство, пристрастия и фобии стали частью национальной матрицы и сегодня воспринимаются миром как нечто исконно российское. И если русская литература "вышла из гоголевской шинели", то Российское государство до сих пор донашивает петровские ботфорты. Эта книга про то, как русские учились не следовать за историей, а творить ее, как что-то у них получилось, а что-то нет. И почему. "Проект будет моей основной работой в течение десяти лет. Речь идет о чрезвычайно нахальной затее, потому что у нас в стране есть только один пример беллетриста, написавшего историю Отечества, - Карамзин. Пока только ему удалось заинтересовать историей обыкновенных людей".Борис АкунинОб авторе: Борис Акунин (настоящее имя Григорий Шалвович Чхартишвили) - русский писатель, ученый-японист, литературовед, переводчик, общественный деятель. Также публиковался под литературными псевдонимами Анна Борисова и Анатолий Брусникин. Борис Акунин является автором нескольких десятков романов, повестей, литературных статей и переводов японской, американской и английской литературы. Художественные произведения Акунина переведены, как утверждает сам писатель, более чем на 30-ть языков мира. По версии российского издания журнала Forbes Акунин, заключивший контракты с крупнейшими издательствами Европы и США, входит в десятку российских деятелей культуры, получивших признание за рубежом. "Комсомольская правда" по итогам первого десятилетия XXI века признала Акунина самым популярным писателем России. Согласно докладу Роспечати "Книжный рынок России" за 2010 год, его книги входят в десятку самых издаваемых. О серии: Первый том "История Российского Государства. От истоков до монгольского нашествия" вышел в ноябре 2013 года. Вторая историческая книга серии появилась через год. Исторические тома проекта "История Российского Государства" выходят каждый год, поздней осенью, став таким образом определенной традицией. Третий том "От Ивана III до Бориса Годунова. Между Азией и Европой" был издан в декабре 2015 года.',
		address: "../../images/books/01.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Ореховый Будда",
		author: "Акунин Борис",
		price: 37.02,
		year: 2018,
		publisher: "",
		pages: 288,
		hardCover: true,
		desc: '"Побегай по Руси в одиночку, поищи ветра в поле. Сколь изобретателен и ловок ни будь один человек, а государственный невод всегда ухватистей. Царь Петр тем и велик, что понял эту истину: решил превратить расхристанную, беспорядочную страну в стройный бакуфу, как это сделал сто лет назад в Японии великий Иэясу. Конечно, России еще далеко до японского порядка. Там от самого сияющего верха до самого глухого низа расходятся лучи государственного присмотра, вплоть до каждого пятидворья, за которым бдит свой наблюдатель. Однако ж и русские учатся, стараются…" Повесть "Ореховый Будда" описывает приключения священной статуэтки, которая по воле случая совершила длинное путешествие из далекой Японии в не менее далекую Московию. Будда странствует по взбудораженной петровскими потрясениями Руси, освещая души светом сатори и помогая путникам найти дорогу к себе…Пять причин купить 1.Новая книга Бориса Акунина. 2.Художественный том проекта «История российского государства». 3.Исторический приключенческий роман Акунина, продолжающий традиции бестеллера «Алмазная колесница». 4.Что роднит Петровскую Русь и Японию? Ответ – в новом романе Бориса Акунина! 5.Захватывающие приключения священной статуэтки, совершившей путешествие из Японии в Московию.',
		address: "../../images/books/02.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Призрак Канта",
		author: "Устинова Татьяна",
		price: 16.99,
		year: 2018,
		publisher: "",
		pages: 320,
		hardCover: false,
		desc: 'Что может быть лучше отпуска… с приключениями! Однако инженер Василий Меркурьев, так мечтавший о холодном море и осеннем лесе, не желает никаких приключений!.. Но они начинаются, как только он приезжает в небольшой отель на взморье. Хозяин знакомит его с постояльцами, среди которых студентка, скучающий юноша, девица, явно вышедшая на охоту, и… молодая ведьма. Меркурьев, разумеется, ни в каких ведьм не верит. И тут, словно в насмешку, окружающая действительность начинает шутить с ним странные шутки: старинную книгу о жизни философа Канта словно кто-то читает, огонь в камине загорается сам собой, а на заброшенном маяке происходит… убийство. Василий Меркурьев точно знает, что не существует ни ведьм, ни призраков, ни духов – и все время натыкается на тайные или явные следы их присутствия. Даже любовь с молодой ведьмой – или не ведьмой?.. – ему словно напророчили потусторонние силы… Иногда на самом деле бывает трудно поверить. Еще труднее осознать и принять! Но если разрешить себе поверить – жизнь оказывается полна чудес, и не выдуманных, а самых настоящих!',
		address: "../../images/books/03.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Не прощаюсь",
		author: "Акунин Борис",
		price: 24.99,
		year: 2018,
		publisher: "",
		pages: 0,
		hardCover: false,
		desc: 'За окном 1918 год. Эраст Петрович Фандорин провел последние три года своей жизни в коме. На протяжении этого периода времени рядом с ним находился Маса. Последняя реабилитация у китайского целителя Чанга, длившаяся пять месяцев, не осталась безрезультатной. Теперь господин и его верный прислужник возвращаются домой. Эраст чувствует улучшения, он набрал вес и сумел пошевелить губами. Но медицинские сотрудники не спешат делать поспешных выводов. Статский советник может вернуться к прежней жизни, но как поменяется он сам после выздоровления и возможно ли полное восстановление всех утраченных функций, никто сказать не может.',
		address: "../../images/books/04.jpg",
		category: ["New Arrivals"]
		
	},
	{
		title: "Огонь и агония",
		author: "Веллер Михаил Иосифович",
		price: 25.27,
		year: 2018,
		publisher: "",
		pages: 416,
		hardCover: true,
		desc: 'Новая книга Михаила Веллера – ироничная по форме и скандальная по существу – о том, почему классика уродует сознание интеллигенции, как пили шампанское герои золотого периода советской культуры, где найти правду о войне и кто такой великий русский поэт Владимир Высоцкий.',
		address: "../../images/books/05.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Дети мои",
		author: "Яхина Гузель Шамилевна",
		price: 26.99,
		year: 2018,
		publisher: "",
		pages: 496,
		hardCover: false,
		desc: '"Дети мои" — новый роман Гузель Яхиной, самой яркой дебютантки в истории российской литературы новейшего времени, лауреата премий "Большая книга" и "Ясная Поляна" за бестселлер "Зулейха открывает глаза". "В первом романе, стремительно прославившемся и через год после дебюта жившем уже в тридцати переводах и на верху мировых литературных премий, Гузель Яхина швырнула нас в Сибирь и при этом показала татарщину в себе, и в России, и, можно сказать, во всех нас. А теперь она погружает читателя в холодную волжскую воду, в волглый мох и торф, в зыбь и слизь, в Этель–Булгу–Су, и ее “мысль народная”, как Волга, глубока, и она прощупывает неметчину в себе, и в России, и, можно сказать, во всех нас. В сюжете вообще-то на первом плане любовь, смерть, и история, и политика, и война, и творчество..." Елена Костюкович Поволжье, 1920–1930-е годы. Якоб Бах – российский немец, учитель в колонии Гнаденталь. Он давно отвернулся от мира, растит единственную дочь Анче на уединенном хуторе и пишет волшебные сказки, которые чудесным и трагическим образом воплощаются в реальность. "Я хотела рассказать о мире немецкого Поволжья – ярком, самобытном, живом – о мире, когда-то созданном пришлыми людьми в чужой стране, а сегодня затерянном в прошлом. Но это еще и история о том, как большая любовь порождает страхи в нашем сердце и одновременно помогает их превозмочь"',
		address: "../../images/books/06.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Тобол. Много званых",
		author: "Алексей Иванов",
		price: 24.99,
		year: 2016,
		publisher: "",
		pages: 702,
		hardCover: true,
		desc: 'В эпоху великих реформ Петра I «Россия молодая» закипела даже в дремучей Сибири. Нарождающаяся империя крушила в тайге воеводское средневековье. Народы и веры перемешались. Пленные шведы, бухарские купцы, офицеры и чиновники, каторжники, инородцы, летописцы и зодчие, китайские контрабандисты, беглые раскольники, шаманы, православные миссионеры и воинственные степняки джунгары – все они вместе, враждуя между собой или спасая друг друга, творили судьбу российской Азии. Эти обжигающие сюжеты Алексей Иванов сложил в роман-пеплум «Тобол». «Тобол. Много званых» – первая книга романа.',
		address: "../../images/books/07.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Вафли по-шпионски",
		author: "Вильмонт Е.Н.",
		price: 12.99,
		year: 2017,
		publisher: "",
		pages: 320,
		hardCover: false,
		desc: 'Новый роман от признанного мастера современного женского романа!- История с продолжением!- "Книги Екатерины Вильмонт помогают жить и относиться ко многим вещам с юмором", - характеризуют ее творчество поклонники.Бобров помог Марте, не назвавшись, не спросив ее имени. Она при встрече не узнала его, а он не спешит напомнить ей о том случае. Однако судьба вновь и вновь сталкивает их и погружает в водоворот событий, в корне изменивших их жизнь.И вот тут Бобров вдруг поверил, что все правда и этому типу действительно кто-то заказал его жену. Он вытащил из бумажника купюру в пятьсот евро.- Вот, держи и рассказывай!Что же это значит? Неужели конец всему? - с тоской подумал Бобров. - А как удивительно и счастливо начиналась наша история...Об авторе:Екатерина Вильмонт - один из самых известных авторов современного женского романа. Екатерина Николаевна почти тридцать лет своей жизни посвятила переводам и, как признается, никогда не мечтала о писательской популярности, а за перо взялась случайно. Эксперимент удался. И теперь, из года в год, автор сохраняет уверенные позиции в ТОП-10 самых издаваемых, читаемых и известных в России писателей. Романы Вильмонт любят за динамичные, захватывающие сюжеты, простой и яркий язык."В своих книгах не надо ориентироваться на другого автора, на его стиль - я сама себе хозяйка. И какое счастье, что публике нравится читать то, что мне нравится писать!" Екатерина Вильмонт.',
		address: "../../images/books/08.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "iPhuck 10",
		author: "Пелевин В.О.",
		price: 29.99,
		sale: 0.5,
		publisher: "",
		pages: 416,
		hardCover: true,
		desc: 'Порфирий Петрович – литературно-полицейский алгоритм. Он расследует преступления и одновременно пишет об этом детективные романы, зарабатывая средства для Полицейского Управления. Маруха Чо – искусствовед с большими деньгами и баба с яйцами по официальному гендеру. Ее специальность – так называемый «гипс», искусство первой четверти XXI века. Ей нужен помощник для анализа рынка. Им становится взятый в аренду Порфирий. «iPhuck 10» – самый дорогой любовный гаджет на рынке и одновременно самый знаменитый из 244 детективов Порфирия Петровича. Это настоящий шедевр алгоритмической полицейской прозы конца века – энциклопедический роман о будущем любви, искусства и всего остального.',
		address: "../../images/books/09.jpg",
		category: ["New Arrivals", "Top Sellers"]
	},
	{
		title: "Дальше жить",
		author: "Абгарян Наринэ Юрьевна",
		price: 18.99,
		year: 2017,
		publisher: "",
		pages: 256,
		hardCover: false,
		desc: 'Книга о тех, кто пережил войну. И тех, кто нет. «Писать о войне – словно разрушать в себе надежду. Словно смотреть смерти в лицо, стараясь не отводить взгляда. Ведь если отведешь – предашь самое себя. Я старалась, как могла. Не уверена, что у меня получилось. Жизнь справедливее смерти, в том и кроется ее несокрушимая правда. В это нужно обязательно верить, чтобы дальше – жить».',
		address: "../../images/books/10.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Самые родные, самые близкие",
		author: "Метлицкая М.",
		price: 18.99,
		year: 2018,
		publisher: "",
		pages: 384,
		hardCover: false,
		desc: 'Три девочки смотрят со старой фотографии: ситцевые сарафаны, пыльные ноги в разбитых сандалиях. Они веселы и беззаботны - так, как бывает лишь в детстве, когда еще не знаешь, что ждет впереди.\nГоды летят быстро - и вот уже не очень молодая женщина разглядывает это фото, тоскуя по юности, по несбывшимся надеждам, по искренней дружбе, когда верили в горячие клятвы, когда не сомневались, что готовы друг за друга в огонь и в воду, когда ради любви совершали безумства, за которые расплачивались всю жизнь, а иногда - самой жизнью.\nКаждая из трех девчонок на фото страстно мечтала о счастье. И все три по-своему распорядились своей судьбой, потому что счастье у каждого свое.',
		address: "../../images/books/11.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Про девушку, которая была бабушкой",
		author: "Нестерова Наталья",
		price: 13.51,
		year: 2018,
		publisher: "",
		pages: 352,
		hardCover: false,
		desc: 'Однажды утром пенсионерка Александра Калинкина обнаружила, что чудесным образом помолодела почти на сорок лет! Теперь можно примерять модные платья, а не бесформенные балахоны, взыскать многолетний долг с работодателя и даже взглянуть в глаза бывшему мужу, который четверть века назад бросил ее одну с маленьким ребенком. Вскоре выясняется, что минусов у волшебного превращения не меньше, чем плюсов. Ни документов, ни семьи у юной Калинкиной больше нет, да и сама вторая молодость явно дана ей судьбой отнюдь не задаром и не навсегда. Нужно распорядиться ею правильно, а времени, чтобы найти верное решение, осталось в обрез…25,8*200',
		address: "../../images/books/12.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Тобол. Мало избранных",
		author: "Иванов Алексей Викторович",
		price: 0,
		year: 2018,
		publisher: "",
		pages: 832,
		hardCover: false,
		desc: '«Тобол. Мало избранных» – вторая книга романа-пеплума Алексея Иванова «Тобол». Причудливые нити человеческих судеб, протянутые сквозь первую книгу романа, теперь завязались в узлы.\nРеформы царя Петра перепахали Сибирь, и все, кто «были званы» в эти вольные края, поверяют: «избранны» ли они Сибирью? Беглые раскольники воздвигают свой огненный Корабль – но вознесутся ли в небо души тех, кто проклял себя на земле? Российские полки идут за золотом в далёкий азиатский город Яркенд – но одолеют ли они пространство степей и сопротивление джунгарских полчищ? Упрямый митрополит пробивается к священному идолу инородцев сквозь злой морок таёжного язычества. Тобольский зодчий по тайным знакам старины выручает из неволи того, кого всем сердцем ненавидит. Всемогущий сибирский губернатор оказывается в лапах государя, которому надо решить, что важнее: своя гордыня или интерес державы?\n…Истории отдельных людей сплетаются в общую историю страны. А история страны движется силой яростной борьбы старого с новым. И её глубинная энергия – напряжение вечного спора Поэта и Царя.',
		address: "../../images/books/13.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Бабий ветер",
		author: "Д. Рубина",
		price: 39.99,
		year: 2017,
		publisher: "",
		pages: 0,
		hardCover: true,
		desc: 'В центре повествования этой, подчас шокирующей, резкой и болевой книги — Женщина. Героиня, в юности — парашютистка и пилот воздушного шара, пережив личную трагедию, вынуждена заняться совсем иным делом в другой стране, можно сказать, в зазеркалье: она косметолог, живет и работает в Нью-Йорке. Целая вереница странных персонажей проходит перед ее глазами, ибо по роду своей нынешней профессии героиня сталкивается с фантастическими, на сегодняшний день почти обыденными «гендерными перевертышами», с обескураживающими, а то и отталкивающими картинками жизни общества. И, как ни странно, из этой гирлянды, по выражению героини, «калек» вырастает гротесковый, трагический, ничтожный и высокий образ современной любви. «Эта повесть, в которой нет ни одного матерного слова, должна бы выйти под грифом 18+, а лучше 40+… — ибо все в ней настолько обнажено и беззащитно, цинично и пронзительно интимно, что во многих сценах краска стыда заливает лицо и плещется в сердце — растерянное человеческое сердце, во все времена отважно и упрямо мечтающее только об одном: о любви…»',
		address: "../../images/books/14.jpg",
		category: ["New Arrivals", "Top Sellers"]
	},
	{
		title: "Русская фантастика-2017. Том первый",
		author: "Головачёв Василий Васильевич; Бессонов Алексей Игоревич; Дашков Андрей Георгиевич; Минаков Игорь Вал",
		price: 19.54,
		year: 2017,
		publisher: "",
		pages: 512,
		hardCover: true,
		desc: 'Бродячего кота прозвали Чумой, но Максим назвал его Рыжим, приютил, обогрел, накормил. И не прогадал! Вскоре выяснилось, что только кот Рыжий способен выручить человека из беды, в ситуации, находящейся явно за пределами человеческих возможностей… Мир слетел с катушек еще очень давно, но по-настоящему лишь восьмого июля 2054 года, когда африканские страны захлестнул огонь протестов и революций, низвергнув и без того неспокойный континент в пучину хаоса и ярости, да так, что границы размыло и народы смешались. Но, как выяснил Томас О’Двайер, сотрудник одной из британских компаний, размыло не только государственные границы… Есть ли жизнь на Марсе, русский астроном Беляев всерьез не задумывался. Хотя петербуржскую публику начала ХХ века этот вопрос сильно интересовал. Пришлось Беляеву прочитать ряд популярных лекций на эту тему. Если бы он знал, чем для него это обернется… Василий Головачёв, Алексей Бессонов, Ярослав Веров, Игорь Минаков и другие звезды отечественной фантастики в традиционном ежегодном сборнике «Русская фантастика»!',
		address: "../../images/books/15.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Погребенный великан",
		author: "Кадзуо Исигуро",
		price: 15.69,
		year: 2017,
		publisher: "",
		pages: 416,
		hardCover: true,
		desc: 'Каждое произведение Кадзуо Исигуро — событие в мировой литературе. Его романы переведены более чем на сорок языков. Тиражи книг «Остаток дня» и «Не отпускай меня» составили свыше миллиона экземпляров. «Погребенный великан» — роман необычный, завораживающий. Автор переносит нас в Средневековую Англию, когда бритты воевали с саксами, а землю окутывала хмарь, заставляющая забывать только что прожитый час так же быстро, как утро, прожитое много лет назад. Пожилая пара, Аксель и Беатриса, покидают свою деревушку и отправляются в полное опасностей путешествие — они хотят найти сына, которого не видели уже много лет. Исигуро рассказывает историю о памяти и забвении, о мести и войне, о любви и прощении. Но главное — о людях, о том, как все мы по большому счету одиноки.',
		address: "../../images/books/16.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Шпионы тоже лохи",
		author: "Вильмонт Екатерина Николаевна",
		price: 12.99,
		year: 2018,
		publisher: "",
		pages: 320,
		hardCover: false,
		desc: 'Бобров и Марта по-прежнему вместе. Но это обстоятельство не дает покоя многим. Удастся ли доброжелателям разрушить их идеальный союз? Продолжение романа «Вафли по-шпионски»!',
		address: "../../images/books/17.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Джек Ричер, или Без второго имени",
		author: "Ли Чайлд",
		price: 24.99,
		year: 2018,
		publisher: "",
		pages: 384,
		hardCover: false,
		desc: ' Где бы ни появился этот крупный, угрожающего вида мужчина, всем бросается в глаза, но, когда нужно, он умеет быть совершенно незаметным. Человек этот не ищет неприятностей – те сами находят его; но он их не боится. Его никто не сможет найти, если он этого не захочет; но, когда нужно, он находится сам. Он – по-настоящему хороший парень, хотя большинство людей считает его плохим. Его зовут Ричер. Джек Ричер. И у него нет второго имени… В нашей библиотеке вы можете бесплатно почитать книгу « Джек Ричер, или Без второго имени ». Чтобы читать онлайн книгу « Джек Ричер, или Без второго имени » перейдите по указанной ссылке. Приятного Вам чтения. ',
		address: "../../images/books/18.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Мой дикий сад",
		author: "Шалев Меир",
		price: 30.60,
		year: 2018,
		publisher: "",
		pages: 254,
		hardCover: true,
		desc: 'Новая книга давно полюбившегося русским читателям израильского писателя Меира Шалева - описание сада, который автор посадил собственными руками. Сад этот - "дикий", в нем есть только растения, созданные самой природой, а не выведенные искусственно.Это не книга советов садоводам, хотя и они здесь есть. Шалев словно разговаривает со своим садом, и читатель погружается в состояние, которое испытывает человек, оставивший позади суетливый грохочущий мир и погрузившийся в девственную природу. Эта простая на первый взгляд книга о диком саде, который возделывает увлеченный человек, оказывается глубоким размышлением о самом серьезном и важном - одиночестве и любви, радости и скорби, о нашем месте в мироздании.',
		address: "../../images/books/19.png",
		category: ["New Arrivals"]
	},
	{
		title: "Желтые розы для актрисы",
		author: "Соболева Лариса Павловна",
		price: 14.99,
		year: 2018,
		publisher: "",
		pages: 384,
		hardCover: false,
		desc: 'Саша – актриса небольшого провинциального театра. Многие коллеги завидуют ее успехам на сцене, но для Саши это мелочи – она любит свою работу и в целом очень довольна жизнью.\nОднажды у Саши появляется тайный поклонник, который регулярно присылает ей в подарок желтые розы. Не сразу замечает Саша, что цветы в букетах перевязаны траурной лентой, не сразу понимает, что это нехороший знак… И то, что казалось лишь странностями ее воздыхателя, превращается в страшный сон наяву.\nЕй страшно находиться в театре, играть на сцене, ходить по улицам – отовсюду может прийти смерть. Саша пытается выяснить, кто присылает букеты, но тщетно. А что, если тот, кто желает ей зла, – человек из недалекого прошлого? Саша вспоминает о непростой ситуации, в которой когда-то находилась, и понимает, что отголоски тех событий могут привести ее прямо в руки убийце.',
		address: "../../images/books/20.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Крайон. Обретение счастья. Победа над страхами, тревогами, сомнениями",
		author: "Шмидт Тамара",
		price: 12.34,
		year: 2018,
		publisher: "",
		pages: 256,
		hardCover: true,
		desc: 'Если вы держите в руках эту книгу — значит, тревоги и страхи волнуют вас. И самое главное — вы ищете пути освобождения от них.Крайон — величественная ангельская энергия, светлый Дух, безмерно любящий человечество, уже много лет с любовью дает нам необходимую информацию. Эта книга посланий Крайона посвящена самой актуальной сейчас проблеме — страху и его преодолению. Мы на пороге грандиозных перемен, и именно страх мешает перейти невидимую границу, отделяющую нас от нового светлого мира. Этот мир уже существует, его энергии уже здесь, на Земле! И лишь наши внутренние препятствия, из которых главное — страх, не позволяют нам понять и почувствовать, что они уже здесь, рядом, и готовы войти в нашу жизнь, как мы только разрешим это.',
		address: "../../images/books/21.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Всё та же я. Цикл До встречи с тобой. Кн.3",
		author: "Мойес Дж.",
		price: 20.58,
		year: 2018,
		publisher: "",
		pages: 576,
		hardCover: true,
		desc: 'Луиза Кларк приезжает в Нью-Йорк, готовая начать новую жизнь. И попадает в другой мир, в чужой дом, полный секретов. Радужные мечты разбиваются о жестокую реальность, но Луиза со свойственным ей чувством юмора не унывает. Она твердо знает, что рано или поздно найдет способ обрести себя. А еще обязательно получит ответ на вопрос: кого же она на самом деле любит?..Впервые на русском языке!',
		address: "../../images/books/22.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Очаг",
		author: "Лукьяненко Сергей Васильевич, Холмогоров Валентин",
		price: 18.21,
		year: 2018,
		publisher: "",
		pages: 320,
		hardCover: true,
		desc: 'Каждая история когда-нибудь заканчивается. Бывшему командиру 16-й пограничной заставы по прозвищу Ударник предстоит решить непростую задачу: агенты Очага грозят катастрофой его родному миру, а времени, чтобы предотвратить ее, осталось совсем немного. Он должен преодолеть множество препятствий, проникнуть в самое логово врага, разгадать его планы, и, возможно, пожертвовать всем, чтобы добиться главной цели – спасти Землю от неминуемой гибели.Тогда у человечества появится шанс, единственный и последний шанс выжить.',
		address: "../../images/books/23.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "След лисицы на камнях",
		author: "Михалкова Е.И. ",
		price: 19.99,
		year: 2018,
		publisher: "",
		pages: 384,
		hardCover: false,
		desc: 'Перед вами еще одно расследование Бабкина и Илюшина. Очередное дело, необычный клиент и преступление – более запутанное, чем когда-либо. Самое удивительное: заказчик и есть предполагаемый преступник, убийца. Однако для начала нужно понять, случилось ли убийство вообще… Или это чей-то хитрый замысел, чтобы подставить невиновного человека?\nСамое сложное в этой детективной игре – найти жертву, которой, возможно, и не было. Расследование идет непросто. И каждый из детективов имеет на все собственную точку зрения. На этот раз Бабкин и Илюшин почти не соглашаются друг с другом и все время спорят. И если что-то произойдет, смогут ли они действовать поодиночке, находясь по разные стороны баррикад? Вполне возможно, это дело станет последним для дуэта Бабкина и Илюшина. Если только они не смогут прийти к единому решению…\nЧем же закончится эта запутанная история? Кто за ней стоит? Купите, скачайте или читайте онлайн книгу «След лисицы на камнях» Елены Михалковой в сервисе электронных и аудиокниг ЛитРес, чтобы узнать правду.',
		address: "../../images/books/24.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Я признаюсь",
		author: "Гавальда Анна ",
		price: 19.99,
		year: 2018,
		publisher: "",
		pages: 320,
		hardCover: false,
		desc: '"Я признаюсь" – сборник новелл популярной французской писательницы Анны Гавальда, автора бестселлеров "Просто вместе", "Мне бы хотелось, чтобы меня кто-нибудь где-нибудь ждал…", "Утешительная партия игры в петанк" и многих других. В книгу вошли пронзительные, искренние рассказы о простых людях и их жизнях. ',
		address: "../../images/books/25.jpg",
		category: ["New Arrivals"]
	},
	{
		title: "Девушка не нашего круга",
		author: "Литвинова А.В., Литвинов С.В.",
		price: 18.99,
		year: 2018,
		publisher: "",
		pages: 352,
		hardCover: false,
		desc: 'Артём – популярный блогер. Он из хорошей московской семьи, красивый и обеспеченный. Настя – тоже красавица, но она провинциальная девчонка, да вдобавок к тому – воровка. Казалось, что может быть между ними общего? Однако между парнем и девушкой вспыхивает любовь. Та, что не знает преград, ничего не требует и всем готова пожертвовать. Чем может закончиться столь неравный союз? Над парой сгущаются тучи. Родители Артёма, представители высшего общества, твердо намерены помешать браку. В довершение всего по следу Насти уже идет полиция. Однако в прошлой жизни девушки имеется еще одна тайна – та, что может радикально поменять ситуацию…',
		address: "../../images/books/26.jpg",
		category: ["New Arrivals", "Top Sellers"]
	},
	{
		title: "Союз радости и печали",
		author: "Ахмадулина Белла Ахатовна ",
		price: 23.31,
		year: 2018,
		publisher: "",
		pages: 400,
		hardCover: true,
		desc: 'На протяжении многих лет Белла Ахмадулина писала литературные портреты людей, которые, как она говорила, "повлияли на ход и склад моей жизни". А среди них А. Ахматова, Б. Пастернак, П. Антокольский, Б. Окуджава, В. Набоков, Вен. Ерофеев, С. Довлатов, В. Высоцкий, А. Тышлер, М. Плисецкая… На страницах же этой книги не только современники поэта, но и его предшественники – А. Пушкин, М. Лермонтов, Ф. Тютчев, М. Цветаева. И о каждом, с кем была знакома или лишь мечтала иметь знакомство, Б. Ахмадулина рассказывает с восхищением и любовью, бесконечно радуясь тому, что природа одарила их уникальным талантом."Я из тех, кто считает дар другого человека даром всем нам и мне", – пишет она, щедро делясь с читателями воспоминаниями и размышлениями о чудесных встречах, незабываемых поездках, той уникальной культурной атмосфере, в которой она жила и которая сегодня перешла в вечность.',
		address: "../../images/books/27.jpg",
		category: ["New Arrivals", "Top Sellers"]
	},
	{
		title: "Запасной выход из комы",
		author: "Донцова Дарья ",
		price: 18.94,
		sale: 0.25,
		year: 2018,
		publisher: "",
		pages: 320,
		hardCover: false,
		desc: 'Новая книга! Уже 12 лет подряд Дарья Донцова по данным опроса ВЦИОМ признается "Писателем года"В книгах Дарьи Донцовой все правда! Ее героиня отчасти списана с нее самой: кошки, собаки, дети, мужья… Ее хобби вязать и печь пироги, а между делом – придумывать преступления.Дарья Донцова• Лауреат премии "Писатель года"• Лауреат премии "Бестселлер года" (учреждена газетой "Книжное обозрение")• Лауреат премии Торгового дома "Библио-Глобус" в номинациях "Автор года" и "Имя года"• Лауреат ежегодного открытого конкурса "Книга года" (Министерства по делам печати, телерадиовещания и средств массовой коммуникации России) в номинации "Бестселлер года"• В честь Дарьи Донцовой заложена звезда на литературной Площади звезд в Москве на Страстном бульваре• В 2005 году Дарье Донцовой был вручен Орден Петра Великого 1-й степени с лентой за большой личный вклад и выдающиеся заслуги в области литературы• в 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017 годах по данным опросов ВЦИОМ признавалась "Писателем года"• в феврале 2009 года занесена Книгу Рекордов России как самый плодовитый автора детективных романов (100 детективов за 10 лет)Ну кто бы мог подумать, что путешествия во времени возможны?... Начальница особой детективной бригады Татьяна Сергеева во чтобы то ни стало должна разыскать свою исчезнувшую коллегу Лизу Трифонову. Та взялась за совершенно глухое дело, которое еще много лет назад зашло в тупик: загадочное похищение младенца. Татьяна уверенно шла по следам пропавшей, и вдруг… все провалилось во мрак глубокой комы. Сергеева очнулась в таинственной лечебнице, окруженная излишне-заботливым персоналом. Невероятно, но память у Татьяны словно ластиком стерли! Через распахнутое больничное окно она мило беседует со своей "свекровью Этти", напрочь позабыв, что та давно умерла. И Таню ничуть не смущает, что календарь на ресепшен клиники, датирован еще прошлым веком…',
		address: "../../images/books/28.jpg",
		category: ["New Arrivals", "Top Sellers"]
	},
	{
		title: "Венец демона",
		author: "Роллинс Дж.",
		price: 26.99,
		year: 2018,
		publisher: "",
		pages: 416,
		hardCover: false,
		desc: 'Оно обитает на далеком острове, где-то в океане. Оно древнее, как сама Земля. Оно уничтожило все вокруг себя – и бешено рвется в широкий мир. Оно – вселенское зло, уготовившее для людей мучительную, адскую гибель. Этот демон никогда не насытится – и никогда не остановится. Если его не остановить…',
		address: "../../images/books/29.jpg",
		category: ["New Arrivals", "Top Sellers"]
	},
	{
		title: "Север и Юг",
		author: "Гаскелл Э. ",
		price: 9.06,
		year: 2018,
		publisher: "",
		pages: 480,
		hardCover: true,
		desc: 'Роман Элизабет Гаскелл "Север и Юг" – это история любви, рассказанная в лучших традициях викторианской литературы. Главная героиня, уроженка Южной Англии Маргарет Хейл, вынуждена переехать в северные промышленные районы. Впечатлительная девушка глубоко возмущена ужасными условиями, в которых живут рабочие, однако ее негодование против владельца фабрики Джона Торнтона невольно перерастает в нежное чувство. Героям на протяжении романа приходится преодолевать множество предрассудков, учиться более широко и полно видеть мир, не деля его на черное и белое, на север и юг, учиться доброте и человечности.',
		address: "../../images/books/30.jpg",
		category: ["New Arrivals", "Top Sellers"]
	}];
}]);
